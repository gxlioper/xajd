/*
 * Generated by MyEclipse Struts
 * Template path: templates/java/JavaClass.vtl
 */
package xgxt.wjcf;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import org.apache.struts.action.Action;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;

//import com.sun.corba.se.impl.ior.WireObjectKeyTemplate;

import xgxt.action.Base;
import xgxt.wjcf.WjcfOperactionAction;

/** 
 * MyEclipse Struts
 * Creation date: 06-29-2007
 * 
 * XDoclet definition:
 * @struts.action validate="true"
 */
public class WjcfAction extends Action {
	/*
	 * Generated Methods
	 */
	String writeAble = "";
	/** 
	 * Method execute
	 * @param mapping
	 * @param form
	 * @param request
	 * @param response
	 * @return ActionForward
	 * @throws Exception 
	 */
	public ActionForward execute(ActionMapping mapping, ActionForm form,
			HttpServletRequest request, HttpServletResponse response) throws Exception {
		// TODO Auto-generated method stub
		String myAction = mapping.getParameter();
		ActionForward myActFwd = null;
		try {
			//判断用户读写权
			writeAble = Base.getWriteAble(request);

		    if ("edu_search".equalsIgnoreCase(myAction)){ //违纪学生跟踪教育
				myActFwd = WjcfOperactionAction.stuPunishScoutTeach(mapping,
						form, request, response);
			} else if ("discip_check".equalsIgnoreCase(myAction)){ //学校审核处理情况
				myActFwd = WjcfOperactionAction.stuPunishCheck(mapping, form,
						request, response);
			} else if ("track_teach".equalsIgnoreCase(myAction)){ //跟踪教育维护
				myActFwd = WjcfOperactionAction.wjcfStuTrackTeach(mapping,
						form, request, response);
			} else if ("SaveStuTrackTeach".equalsIgnoreCase(myAction)){ //保存跟踪教育信息
				myActFwd = WjcfOperactionAction.SaveStuTrackTeach(mapping,
						form, request, response);
			} else if ("discip_check".equalsIgnoreCase(myAction)){ //学校审核
				myActFwd = WjcfOperactionAction.StuWjcfSchoolCheck(mapping,
						form, request, response);
			} else if ("stuPunishApp".equalsIgnoreCase(myAction)){ //学院申报
				myActFwd = WjcfOperactionAction.stuPunishApp(mapping, form,
						request, response);
			} else if ("webCall".equalsIgnoreCase(myAction)){ //网上点名
				myActFwd = WjcfOperactionAction.StuwebCall(mapping, form,
						request, response);
			} else if ("notDeclareInfo".equalsIgnoreCase(myAction)){ //未通过申报信息
				myActFwd = WjcfOperactionAction.stuNotDeclareInfo(mapping,
						form, request, response);
				writeAble = "yes";//（违纪处分）执行批量删除权限
			} else if ("checkWorkInfoWh".equalsIgnoreCase(myAction)){ //考勤信息维护
				myActFwd = WjcfOperactionAction.StuCheckWorkInfoWh(mapping,
						form, request, response);
			} else if ("reportFormsKqccqkb".equalsIgnoreCase(myAction)){ //学生考勤抽查统计表
				myActFwd = WjcfOperactionAction.StuCheckWordStatReportForms(
						mapping, form, request, response);
			} else if ("addcheckWorkInfo".equalsIgnoreCase(myAction)){ //添加考勤信息
				myActFwd = WjcfOperactionAction.AddCheckWorkInfo(mapping, form,
						request, response);
			} else if ("saveKqxx".equalsIgnoreCase(myAction)){ //保存考勤信息
				myActFwd = WjcfOperactionAction.SaveCheckWordInfo(mapping,
						form, request, response);
			} else if ("jw_kqxxcx".equalsIgnoreCase(myAction)){ //查看教务考勤信息
				myActFwd = WjcfOperactionAction.JwStuWorkInfoQuerry(mapping,
						form, request, response);
			} else if ("jwkqxx_print".equalsIgnoreCase(myAction)) {
				myActFwd = WjcfOperactionAction.JwStuWorkInfoPrint(mapping,
						form, request, response);
			} else if ("StuCheckWorkInfoWh_print".equalsIgnoreCase(myAction)) {
				myActFwd = WjcfOperactionAction.StuCheckWorkInfoWh_print(
						mapping, form, request, response);
			} else if ("PrintXswjcfqkb".equalsIgnoreCase(myAction)) { //违纪处分学院申报表
				myActFwd = WjcfOperactionAction.PrintXswjcfqkb(mapping, form,
						request, response);
			}else if("xsshssq".equalsIgnoreCase(myAction)){//学生申诉申请
				myActFwd = WjcfOperactionAction.ShsSq(mapping,form,request,response);
			}else if("wjcfinfo".equalsIgnoreCase(myAction)){//个人违纪处分信息显示
				myActFwd = WjcfOperactionAction.WjcfInfo(mapping,form,request,response);
			}else if("wjcfinfolxck".equalsIgnoreCase(myAction)){//个人违纪处分信息显示（留校查看）
				myActFwd = WjcfOperactionAction.WjcfInfoLxck(mapping,form,request,response);
			}else if("wjcfshssqcx".equalsIgnoreCase(myAction)){//学生申诉申请查询(学生)wjcf_shssqcx	
				myActFwd = WjcfOperactionAction.WjcfShsSqCx(mapping,form,request,response);
			}else if("wjcfshsdatasearch".equalsIgnoreCase(myAction)){//学生申诉公共查询模块
				HttpSession session = request.getSession();
				String userName=session.getAttribute("userName").toString();
				String userType=session.getAttribute("userOnLine").toString();		  	
				boolean isStu = (userType.equalsIgnoreCase("student"));			  	
		    	int p = Base.chkUPower(userName, "wjcf_shssqcx.do", isStu);
		    	writeAble = (p == 1) ? "yes" : "no";			    				
				myActFwd = WjcfOperactionAction.WjcfShsDataSearch(mapping, form, request, response);
			}else if("wjcfviewmoreinfoanddel".equalsIgnoreCase(myAction)){//学生申诉显示详细信息、删除公共模块
				myActFwd = WjcfOperactionAction.WjcfViewMoreInfoAndDel(mapping,form,request,response);
			}else if("wjcfshscheck".equalsIgnoreCase(myAction)){//申诉申请审核 (委员会讨论、委员会决定)
				myActFwd = WjcfOperactionAction.WjcfShsCheck(mapping, form, request, response);
			}else if("downloadfile".equalsIgnoreCase(myAction)){
				myActFwd = WjcfOperactionAction.DownLoadFile(mapping, form, request, response);
			}else if ("wjcfStuPreWarn".equalsIgnoreCase(myAction)){ //南昌大学科学技术学院旷课预警
				myActFwd=WjcfOperactionAction.WjcfStuPreWarn(mapping, form, request, response);
			}else if("wjcfKkqktj".equalsIgnoreCase(myAction)){//南昌大学科学技术学院违纪处分旷课情况统计
				myActFwd=WjcfOperactionAction.WjcfKkQkTj(mapping, form, request, response);
			}else if("wjcf_ZtBhGl".equalsIgnoreCase(myAction)){ //上海工程大学违纪处分主题班会管理
				myActFwd=WjcfOperactionAction.WjcfZtBhGl(mapping, form, request, response);
			}else if("wjcf_ZtBhGl_load".equalsIgnoreCase(myAction)){//违纪处分主题班会信息加载
				myActFwd=WjcfOperactionAction.WjcfZtBhGlLoad(mapping, form, request, response);
			}else if("wjcf_ZtBhGl_oper".equalsIgnoreCase(myAction)){//违纪处分主题班会信息,添加，删除，更改
				myActFwd=WjcfOperactionAction.WjcfZtBhGlOper(mapping, form, request, response);
			}else if("wjcf_stuinfo".equalsIgnoreCase(myAction)){//加载违纪学生学号
				myActFwd=WjcfOperactionAction.WjcfStuInfoLoad(mapping, form, request, response);
			}else if("wjcf_Xxlct".equalsIgnoreCase(myAction)){//违纪处分信息流程图
				myActFwd=WjcfOperactionAction.WjcfXxlct(mapping, form, request, response);
			}else if("Wjcf_BgdGl".equalsIgnoreCase(myAction)){//违纪处分不归档
				myActFwd=WjcfOperactionAction.WjcfClBgd(mapping, form, request, response);
			}else if("wjcf_BgdLoad".equalsIgnoreCase(myAction)){//违纪处分不归档页面加载
				myActFwd=WjcfOperactionAction.WjcfClBgdLoad(mapping, form, request, response);
			}else if("wjcf_BgdOper".equalsIgnoreCase(myAction)){//纪处分不归档信息增，删，改
				myActFwd=WjcfOperactionAction.WjcfClBgdOper(mapping, form, request, response);
			}else if("wjcf_BgdTjSx".equalsIgnoreCase(myAction)){//违纪不归档条件筛选
				myActFwd=WjcfOperactionAction.WjcfBgdTjSx(mapping, form, request, response);
			}else if("wjcf_BgdPrint".equalsIgnoreCase(myAction)){//违纪不归档打印
				myActFwd=WjcfOperactionAction.WjcfBgdPrint(mapping, form, request, response);
			}else if("wjcf_ZtBhGl_print".equalsIgnoreCase(myAction)){//上海工程大学违纪处分主题班会信息打印
				myActFwd=WjcfOperactionAction.WjcfZtBhGlPrint(mapping, form, request, response);
			}else if("grwjcfxxsearch".equalsIgnoreCase(myAction)){//西北二民院学生版个人违纪信息查询
				myActFwd=WjcfOperactionAction.StuWjcfxxSearch(mapping, form, request, response);
			}else if("grwjcfxxview".equalsIgnoreCase(myAction)){//西北二民院学生版个人违纪详细信息显示
				myActFwd=WjcfOperactionAction.StuWjcfxxView(mapping, form, request, response);
			}/*else if("deletewtgwjxx".equalsIgnoreCase(myAction)){//未通过申报信息批量删除
				myActFwd=WjcfOperactionAction.deletewtgwjxx(mapping, form, request, response);
				writeAble = "yes";
			}*/
			else if ("wjcfWtgxxDel".equalsIgnoreCase(myAction)) {
				myActFwd=WjcfOperactionAction.wjcfWtgxxDel(mapping, form, request, response);
			} else if ("wjcfLxckTj".equalsIgnoreCase(myAction)) {//违纪处分留校察看提醒功能
				myActFwd = WjcfOperactionAction.wjcfLxckTj(mapping, form, request, response);
			} else if ("downloadfileWj".equalsIgnoreCase(myAction)) {
				myActFwd = WjcfOperactionAction.downloadfileWj(mapping, form, request, response);
			} else if ("downloadfileTemplate".equalsIgnoreCase(myAction)) {
				myActFwd = WjcfOperactionAction.downloadfileTemplate(mapping, form, request, response);
			}else if("wjcfKfTj".equalsIgnoreCase(myAction)){
				myActFwd = WjcfOperactionAction.wjcfKfTj(mapping, form, request, response);
			}else if("wjcfLxck".equalsIgnoreCase(myAction)){
				myActFwd = WjcfOperactionAction.wjcfLxck(mapping, form, request, response);
			} 
			request.setAttribute("writeAble", writeAble);
			return myActFwd;
		} catch (Exception e) {
			e.printStackTrace();
			return new ActionForward("/login.jsp", false);
		}
	}
}