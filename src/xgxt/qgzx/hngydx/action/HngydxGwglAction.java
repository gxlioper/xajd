/*
 * Generated by MyEclipse Struts
 * Template path: templates/java/JavaClass.vtl
 */
package xgxt.qgzx.hngydx.action;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;
import org.apache.struts.actions.DispatchAction;

import xgxt.DAO.DAO;
import xgxt.form.CommanForm;
import xgxt.qgzx.hngydx.dao.HngydxGwglDAO;
import xgxt.qgzx.hngydx.service.HngydxGwglService;

/**
 * <p>Title: 学生工作管理系统</p>
 * <p>Description: 勤工助学模块湖南工业岗位管理Action</p>
 * <p>Copyright: Copyright (c) 2008</p>
 * <p>Company: zfsoft</p>
 * <p>Author: 李容</p>
 * <p>Version: 1.0</p>
 * <p>Time: 2008-07-10</p>
 */
public class HngydxGwglAction extends DispatchAction {

	/** 
	 * Method 增加岗位信息
	 * @param mapping
	 * @param form
	 * @param request
	 * @param response
	 * @return ActionForward
	 */
	public ActionForward addGwxx(ActionMapping mapping, ActionForm form,
			HttpServletRequest request, HttpServletResponse response) {
		CommanForm gwxx = (CommanForm)form;
		HngydxGwglService service = new HngydxGwglService();
		DAO dao = DAO.getInstance();
		HngydxGwglDAO gwDao = new HngydxGwglDAO();
		boolean result = true;
		
		String doType = request.getParameter("doType");
		if(doType!=null && "modi".equalsIgnoreCase(doType)){
			//调用service中的modGwxx方法增加岗位信息
			result = service.modGwxx(gwxx,request);
		}else{		
			//调用service中的addGwxx方法增加岗位信息
			result = service.addGwxx(gwxx,request);
		}
		
		request.setAttribute("xqList1", dao.getXiaoQuList());
		request.setAttribute("sqdwList", gwDao.getYrdwList());
		request.setAttribute("gwxzList", gwDao.getGwxzList());
		request.setAttribute("rs", new CommanForm());
		request.setAttribute("doType", doType);
		request.setAttribute("result", result);
		return mapping.findForward("success");
	}
}